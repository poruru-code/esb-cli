{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Edge Serverless Box SAM subset schema",
  "type": "object",
  "properties": {
    "AWSTemplateFormatVersion": {
      "type": "string"
    },
    "Transform": {
      "type": ["string", "object"]
    },
    "Globals": {
      "type": "object",
      "properties": {
        "Function": {
          "type": "object",
          "properties": {
            "Architectures": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "Layers": {
              "type": "array",
              "items": {
                "type": ["string", "object"]
              }
            },
            "Environment": {
              "type": "object",
              "properties": {
                "Variables": {
                  "type": "object",
                  "additionalProperties": true
                }
              },
              "additionalProperties": true
            },
            "Timeout": {
              "type": "integer"
            },
            "MemorySize": {
              "type": "integer"
            },
            "Runtime": {
              "type": "string"
            },
            "Handler": {
              "type": "string"
            },
            "RuntimeManagementConfig": {
              "type": "object",
              "properties": {
                "UpdateRuntimeOn": {
                  "type": "string"
                }
              },
              "additionalProperties": true
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    },
    "Resources": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "Type": {
            "type": "string"
          },
          "Properties": {
            "$ref": "#/definitions/ResourceProperties"
          }
        },
        "required": ["Type"],
        "additionalProperties": true
      }
    }
  },
  "required": ["Resources"],
  "definitions": {
      "ResourceProperties": {
        "type": "object",
        "properties": {
        "FunctionName": {
          "type": "string"
        },
        "CodeUri": {
          "type": "string"
        },
        "Handler": {
          "type": "string"
        },
        "Runtime": {
          "type": "string"
        },
        "Architectures": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "RuntimeManagementConfig": {
          "type": "object",
          "properties": {
            "UpdateRuntimeOn": {
              "type": "string"
            }
          },
          "additionalProperties": true
        },
        "Layers": {
          "type": "array",
          "items": {
            "type": ["string", "object"]
          }
        },
        "Environment": {
          "type": "object",
          "properties": {
            "Variables": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "additionalProperties": true
        },
        "Events": {
          "type": "object",
          "additionalProperties": true
        },
        "Timeout": {
          "type": "integer"
        },
        "MemorySize": {
          "type": "integer"
        },
        "ReservedConcurrentExecutions": {
          "type": "integer"
        },
        "ProvisionedConcurrencyConfig": {
          "type": "object",
          "properties": {
            "ProvisionedConcurrentExecutions": {
              "type": "integer"
            }
          },
          "additionalProperties": true
        },
        "Environment": {
          "type": "object",
          "additionalProperties": true
        },
        "CompatibleArchitectures": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "ContentUri": {
          "type": "string"
        },
        "LayerName": {
          "type": "string"
        }
      },
      "additionalProperties": true
    }
  }
}
